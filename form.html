<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cross Creek Realty ‚Äî Project Intake</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üè†</text></svg>">
  
  <!-- EmailJS for sending confirmation emails -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
  
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
      background: #f7f7f9;
      color: #1b1e2b;
      margin: 0;
      padding: 20px;
    }
    h1 {
      color: #0b0e2a;
    }
    h2 {
      color: #c7a86b;
      margin-top: 32px;
    }
    label {
      font-weight: 600;
      display: block;
      margin: 12px 0 6px;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #dcdced;
      border-radius: 10px;
      font-size: 14px;
    }
    textarea {
      resize: vertical;
      min-height: 80px;
    }
    .section {
      background: #ffffff;
      border: 1px solid #e6e6ef;
      border-radius: 14px;
      padding: 20px;
      margin-top: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.03);
    }
    .submit-btn {
      background: #c7a86b;
      color: #111;
      border: none;
      padding: 12px 24px;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 30px;
    }
    .submit-btn:disabled {
      background: #999;
      cursor: not-allowed;
    }
    .success-message {
      background: #d4edda;
      color: #155724;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      display: none;
    }
    .error-message {
      background: #f8d7da;
      color: #721c24;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
      display: none;
    }
    .email-status {
      margin-top: 15px;
      padding: 10px;
      border-radius: 5px;
      font-size: 14px;
    }
    .email-success {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      color: #155724;
    }
    .email-error {
      background: #f8d7da;
      border: 1px solid #f5c6cb;
      color: #721c24;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <h1>Cross Creek Realty ‚Äî Full Project Intake</h1>

  <form name="cross-creek-project-intake" id="project-intake-form">

    <!-- PHASE 1 ‚Äî Discovery -->
    <div class="section">
      <h2>Phase 1 ‚Äî Discovery & Brand Assets</h2>

      <label for="brand-logo">Link to official logo(s)</label>
      <input type="url" id="brand-logo" name="brand-logo" placeholder="Google Drive, Dropbox, or website link"/>

      <label for="brand-fonts">Do you have brand fonts or typography guidelines?</label>
      <input type="text" id="brand-fonts" name="brand-fonts" placeholder="List names or link to brand guide" />

      <label for="brand-colors">Do you have brand color values (HEX/RGB)?</label>
      <input type="text" id="brand-colors" name="brand-colors" placeholder="e.g. #FFB200, #000000"/>

      <label for="page-content">What core pages do you want on the site?</label>
      <textarea id="page-content" name="page-content" placeholder="e.g. Home, About, Contact, Listings, Blog, Careers, etc."></textarea>

      <label for="micro-pages">Do you want dedicated pages for neighborhoods or micro-communities?</label>
      <select id="micro-pages" name="micro-pages">
        <option value="">Select one</option>
        <option>Yes ‚Äî I'd like to build community landing pages</option>
        <option>Maybe ‚Äî Need help deciding</option>
        <option>No ‚Äî Just main pages</option>
      </select>

      <label for="micro-page-examples">If yes or maybe, what areas or neighborhoods should be highlighted?</label>
      <textarea id="micro-page-examples" name="micro-page-examples" placeholder="e.g. Buckhead, Vinings, Midtown, etc."></textarea>

      <label for="custom-content">Any additional content or messaging you'd like included on specific pages?</label>
      <textarea id="custom-content" name="custom-content" placeholder="Optional ‚Äì for team bios, market stats, testimonials, etc."></textarea>
    </div>

    <!-- PHASE 2 ‚Äî IDX/MLS + Features -->
    <div class="section">
      <h2>Phase 2 ‚Äî IDX Integration & Lead Capture</h2>

      <label for="mls-access">Do you currently have access to your MLS/IDX provider?</label>
      <select id="mls-access" name="mls-access">
        <option value="">Select one</option>
        <option>Yes ‚Äî We'll provide credentials</option>
        <option>No ‚Äî Need help getting set up</option>
        <option>Not sure</option>
      </select>

      <label for="mls-region">Which MLS region do you use?</label>
      <input id="mls-region" name="mls-region" placeholder="e.g. FMLS, Georgia MLS, Bright MLS" />

      <label for="mls-login">MLS/IDX Portal Login Email</label>
      <input type="email" id="mls-login" name="mls-login" placeholder="agent@yourdomain.com" />

      <label for="mls-api">MLS API Key / IDX Token (optional)</label>
      <input id="mls-api" name="mls-api" placeholder="Paste API key or token here" />

      <label for="site-features">What key site features do you want integrated?</label>
      <textarea id="site-features" name="site-features" placeholder="e.g. Saved searches, advanced filters, booking calendar, 3D tours, maps, etc."></textarea>

      <label for="lead-capture">How should buyer/seller leads be routed?</label>
      <select id="lead-capture" name="lead-capture">
        <option value="">Select one</option>
        <option>Email to agent</option>
        <option>Into CRM</option>
        <option>Both</option>
      </select>

      <label for="crm-tool">Do you use a CRM or lead management platform?</label>
      <input id="crm-tool" name="crm-tool" placeholder="e.g. FollowUpBoss, LionDesk, Real Geeks" />
    </div>

    <!-- PHASE 3 ‚Äî Content & QA -->
    <div class="section">
      <h2>Phase 3 ‚Äî Content Population & QA</h2>

      <label for="listing-media">Do you have recent photos/videos of your agents or office?</label>
      <select id="listing-media" name="listing-media">
        <option value="">Select one</option>
        <option>Yes ‚Äî We'll share them</option>
        <option>No ‚Äî Need them captured</option>
        <option>Partial ‚Äî Some assets ready</option>
      </select>

      <label for="community-photos">Any neighborhood imagery or video you'd like featured?</label>
      <textarea id="community-photos" name="community-photos"></textarea>

      <label for="blog-content">Will you be providing written content (e.g. bios, blogs, service descriptions)?</label>
      <select id="blog-content" name="blog-content">
        <option value="">Select one</option>
        <option>Yes ‚Äî We will supply content</option>
        <option>No ‚Äî We need help writing it</option>
        <option>A mix of both</option>
      </select>
    </div>

    <!-- PHASE 4 ‚Äî Launch & Handoff -->
    <div class="section">
      <h2>Phase 4 ‚Äî Launch & Admin Access</h2>

      <label for="domain-registrar">Where is your domain registered?</label>
      <input id="domain-registrar" name="domain-registrar" placeholder="e.g. GoDaddy, Google Domains, Squarespace" />

      <label for="team-editors">Who on your team should have site editing access?</label>
      <textarea id="team-editors" name="team-editors" placeholder="Please list names and emails if known"></textarea>

      <label for="training-support">Do you want post-launch training and support?</label>
      <select id="training-support" name="training-support">
        <option value="">Select one</option>
        <option>Yes ‚Äî Please train our team</option>
        <option>Maybe ‚Äî Let's discuss</option>
        <option>No ‚Äî We'll handle it in-house</option>
      </select>

      <label for="ongoing-needs">Do you want ongoing SEO, blog writing, or monthly updates?</label>
      <textarea id="ongoing-needs" name="ongoing-needs" placeholder="Optional ‚Äì we'll tailor a support plan if needed"></textarea>
    </div>

    <button type="submit" class="submit-btn" id="submit-btn">Submit Project Intake</button>
  </form>

  <div class="success-message" id="success-message">
    <strong>Thank you!</strong> Your project intake form has been submitted successfully. We'll review your information and get back to you soon.
  </div>

  <div class="error-message" id="error-message">
    <strong>Oops!</strong> There was an error submitting your form. Please try again or contact us directly.
  </div>

  <!-- Email Status Display -->
  <div id="emailStatus" class="email-status hidden"></div>

  <script>
    // EmailJS Configuration
    const EMAILJS_CONFIG = {
      publicKey: 'p4pF3OWvh-DXtae4c',
      serviceId: 'service_t11yvru',
      templateId: 'project-intake' // Project intake template ID
    };
    
    // Initialize EmailJS
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof emailjs !== 'undefined') {
        emailjs.init(EMAILJS_CONFIG.publicKey);
        console.log('‚úÖ EmailJS initialized successfully');
      } else {
        console.warn('‚ö†Ô∏è EmailJS library not loaded');
      }
    });
    
    // Handle form submission
    document.getElementById('project-intake-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const submitBtn = document.getElementById('submit-btn');
      const successMsg = document.getElementById('success-message');
      const errorMsg = document.getElementById('error-message');
      const emailStatus = document.getElementById('emailStatus');
      
      // Disable submit button and show loading state
      submitBtn.disabled = true;
      submitBtn.textContent = 'Submitting...';
      
      // Hide any previous messages
      successMsg.style.display = 'none';
      errorMsg.style.display = 'none';
      emailStatus.classList.add('hidden');
      
      try {
        // Get form data
        const formData = new FormData(e.target);
        const templateParams = {};
        
        // Convert form data to template parameters
        for (let [key, value] of formData.entries()) {
          templateParams[key] = value || 'Not provided';
        }
        
        // Add submission date
        templateParams.form_submit_date = new Date().toLocaleDateString('en-US', {
          year: 'numeric',
          month: 'long',
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });
        
        // Debug: Log what we're sending
        console.log('üìß Sending project intake form data:', templateParams);
        
        // Check if EmailJS is available
        if (typeof emailjs === 'undefined') {
          throw new Error('EmailJS library not loaded');
        }
        
        // Send email using EmailJS
        const response = await emailjs.send(
          EMAILJS_CONFIG.serviceId, 
          EMAILJS_CONFIG.templateId, 
          templateParams
        );
        
        console.log('‚úÖ Project intake email sent successfully:', response);
        
        // Show success message
        successMsg.style.display = 'block';
        
        // Reset form
        e.target.reset();
        
        // Scroll to success message
        successMsg.scrollIntoView({ behavior: 'smooth' });
        
        // Show email success status
        showEmailStatus('‚úÖ Project intake form submitted successfully!', 'success');
        
      } catch (error) {
        console.error('‚ùå Error submitting project intake form:', error);
        
        // Show error message
        errorMsg.style.display = 'block';
        
        // Scroll to error message
        errorMsg.scrollIntoView({ behavior: 'smooth' });
        
        // Show email error status
        const errorMessage = `‚ö†Ô∏è Email error: ${error.message || 'Unknown error'}`;
        showEmailStatus(errorMessage, 'error');
        
        // Add error details to page for debugging
        if (emailStatus) {
          const errorDetails = document.createElement('div');
          errorDetails.style.cssText = 'margin-top: 10px; padding: 10px; background: #f8d7da; border: 1px solid #f5c6cb; border-radius: 5px; color: #721c24; font-size: 12px; font-family: monospace;';
          errorDetails.innerHTML = `
            <strong>Debug Info:</strong><br>
            Template ID: ${EMAILJS_CONFIG.templateId}<br>
            Service ID: ${EMAILJS_CONFIG.serviceId}<br>
            Error: ${error.message || 'Unknown'}<br>
            Stack: ${error.stack ? error.stack.substring(0, 200) + '...' : 'No stack'}
          `;
          emailStatus.appendChild(errorDetails);
        }
        
      } finally {
        // Re-enable submit button
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Project Intake';
      }
    });
    
    // Show email status message
    function showEmailStatus(message, type) {
      const emailStatus = document.getElementById('emailStatus');
      emailStatus.textContent = message;
      emailStatus.className = `email-status email-${type}`;
      emailStatus.classList.remove('hidden');
    }
  </script>
</body>
</html>